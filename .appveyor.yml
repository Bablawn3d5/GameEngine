version: 0.0.1-{build}
branches:
  only:
  - master
pull_requests:
  do_not_increment_build_number: true
clone_depth: 50
build_script:
- ps: >-
    sed -i 's/git@github.com:/git:\/\/github.com\//' .gitmodules

    git submodule update --init --recursive

    cmake -DCMAKE_INSTALL_PREFIX=build -DENTITYX_BUILD_TESTING=0

    cmake --build . --target ALL_BUILD --config Release
test_script:
- ps: ctest -C Release
